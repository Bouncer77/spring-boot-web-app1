<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CPM</title>
    <link th:href="@{css/main.css}" href="../static/css/main.css" rel="stylesheet" type="text/css"/>
    <!--<script type="text/javascript" src="../static/js/jquery-3.5.1.min.js"></script>-->
    <script type="text/javascript" th:src="@{js/jquery-3.5.1.min.js}"></script>
    <script type="text/javascript" th:src="@{js/script.js}"></script>
    <!--<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>-->
</head>

<body>

    <script type="text/javascript">
        $(document).ready(function(){
            alert(jQuery.fn.jquery);
        });
    </script>

    <div class="topnav">
        <a class="active">Home</a>
        <a th:href="@{/about}">News</a>
        <a th:href="@{/contact}">Contact</a>
        <a th:href="@{/about}">About</a>

        <div sec:authorize="isAuthenticated()">
            <a th:href="@{/logout}">Logout</a>
        </div>

        <div sec:authorize="isAnonymous()">
            <a th:href="@{/persons}">Login</a> <!--тут должна быть ссылка на профиль-->
            <a th:href="@{/persons/add}">Register</a>
        </div>

        <div sec:authorize="isAuthenticated()">
            <a th:href="@{'/persons/'+ ${personId}}">Hello, [[${#httpServletRequest.remoteUser}]]!</a>
        </div>
    </div>

    <!-- Side navigation -->
    <div class="sidenav">

            <div class="heading_of_sidenav">Course Progress Maestro</div>
            <a th:href="@{/persons/add}">Registration</a>
            <a th:href="@{/persons}">All Users</a>
            <a th:href="@{/about}">About</a>
            <div class="heading_of_sidenav">See also</div>
            <a th:href="@{/contact}">Contact</a>
            <a th:href="@{/applications}">Applications</a>
            <a th:href="@{/thymeleaf/}">Thymeleaf Examples</a>

            <!-- Load font awesome icons -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

            <!-- The social media icon bar -->
            <div class="icon-bar">
                <a href="https://www.facebook.com/groups/bouncer77/" class="facebook"><i class="fa fa-facebook"></i></a>
                <a href="https://vk.com/bouncer77" class="vk"><i class="fa fa-vk"></i></a>
                <a href="https://www.youtube.com/channel/UCTHo8pFVImyox0OGWXiutBg/featured?view_as=subscriber" class="youtube"><i class="fa fa-youtube"></i></a>
            </div>
    </div>

    <!-- Page content -->
    <div class="main cpm_top_center">
        <div class="supermsg">CourseProgressMaestro</div>

        <h1 th:inline="text">Hello, [[${#httpServletRequest.remoteUser}]]!</h1>

        <div sec:authorize="hasAuthority('USER')" > Has Authority USER </div>
        <div sec:authorize="hasAuthority('ADMIN')" > Has Authority USER </div>
        <div sec:authorize="hasAuthority('MODERATOR')" > Has Authority USER </div>
        <div sec:authorize="hasAuthority('TEACHER')" > Has Authority USER </div>
        <div sec:authorize="hasAuthority('ANONIMUS')" > Has Authority USER </div>
    </div>
</body>

</html>
